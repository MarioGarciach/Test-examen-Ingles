<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen de Ingl√©s Profesional</title>

    <!-- Security Policies (OWASP Top 10 Compliance) -->
    <!-- Content Security Policy: Restrict sources to self and Google Fonts -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self';">
    <!-- Referrer Policy: Protect user privacy -->
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <!-- X-Content-Type-Options (Note: Best set by server, added here for completeness) -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=1.3">
</head>

<body>
    <div class="app-background"></div>
    <div class="container">
        <header>
            <button id="settings-btn" class="settings-btn" title="Configuraci√≥n">‚öôÔ∏è</button>
            <h1>English Skills Exam</h1>
            <p class="subtitle">Simulador de Examen Profesional</p>

            <div class="stats-bar">
                <div class="stat-box">
                    <span class="stat-label">Examen</span>
                    <span id="current-exam" class="stat-value">1/5</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Puntuaci√≥n</span>
                    <span id="score" class="stat-value">0.00</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Correctas</span>
                    <span id="correct-count" class="stat-value success">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Incorrectas</span>
                    <span id="incorrect-count" class="stat-value danger">0</span>
                </div>
            </div>
        </header>

        <main>
            <!-- Pantalla de inicio -->
            <!-- Pantalla de inicio -->
            <div id="start-screen" class="exam-section active">
                <div class="intro-header">
                    <h2>Selecciona tu Desaf√≠o</h2>
                    <p>Elige un modo para empezar a practicar</p>
                </div>

                <div class="modes-grid">
                    <!-- General Exam -->
                    <div class="mode-card accent-blue">
                        <div class="mode-icon">üéì</div>
                        <h3>Examen General</h3>
                        <p>30 preguntas variadas de todos los temas.</p>
                        <button class="btn btn-primary mode-btn" data-mode="general">Comenzar Test</button>
                    </div>

                    <!-- Modals -->
                    <div class="mode-card accent-purple">
                        <div class="mode-icon">‚ö°</div>
                        <h3>Modals</h3>
                        <p>Must, should, can, might...</p>
                        <button class="btn btn-outline mode-btn" data-mode="modals">Practicar</button>
                    </div>

                    <!-- Pronouns -->
                    <div class="mode-card accent-green">
                        <div class="mode-icon">üë§</div>
                        <h3>Pronouns</h3>
                        <p>Who, which, whose, myself...</p>
                        <button class="btn btn-outline mode-btn" data-mode="pronouns">Practicar</button>
                    </div>

                    <!-- Tenses -->
                    <div class="mode-card accent-orange">
                        <div class="mode-icon">‚è≥</div>
                        <h3>Tenses</h3>
                        <p>Pasado, presente, perfecto...</p>
                        <button class="btn btn-outline mode-btn" data-mode="tenses">Practicar</button>
                    </div>

                    <!-- Mixed Grammar -->
                    <div class="mode-card accent-teal">
                        <div class="mode-icon">üß©</div>
                        <h3>Mixed Grammar</h3>
                        <p>For/Since, Passive, Conditionals</p>
                        <button class="btn btn-outline mode-btn" data-mode="mixed">Practicar</button>
                    </div>

                    <!-- Future Forms -->
                    <div class="mode-card accent-red">
                        <div class="mode-icon">üöÄ</div>
                        <h3>Future Forms</h3>
                        <p>Will, Going to, Present Cont.</p>
                        <button class="btn btn-outline mode-btn" data-mode="future">Practicar</button>
                    </div>
                </div>

                <div class="rules-footer">
                    <p>‚ÑπÔ∏è <strong>Reglas:</strong> Correctas +0.33 pts | 3 Incorrectas -0.33 pts</p>
                </div>
            </div>

            <!-- Ex√°menes -->
            <div id="exam-container" class="exam-section">
                <div id="questions-container" class="fade-in"></div>

                <div class="navigation">
                    <button id="exit-btn" class="btn btn-secondary">‚ùå Salir</button>
                    <button id="prev-btn" class="btn btn-secondary">‚Üê Anterior</button>
                    <button id="next-btn" class="btn btn-primary">Siguiente ‚Üí</button>
                    <button id="submit-exam-btn" class="btn btn-success" style="display: none;">Finalizar
                        Examen</button>
                </div>
            </div>

            <!-- Resultados del examen -->
            <div id="results-screen" class="exam-section">
                <div class="results-container">
                    <h2>Resultados del Examen <span id="exam-number">1</span></h2>

                    <div class="score-wrapper">
                        <div id="score-circle" class="score-circle">0%</div>
                    </div>

                    <div class="score-display">Puntuaci√≥n: <span id="final-score">0.00</span></div>
                    <p id="result-message" class="result-message"></p>

                    <div id="results-list" class="results-list"></div>

                    <div class="action-buttons">
                        <button id="review-exam-btn" class="btn btn-secondary">Revisar Respuestas</button>
                        <button id="next-exam-btn" class="btn btn-primary">Siguiente Examen ‚Üí</button>
                    </div>
                </div>
            </div>

            <!-- Resultados finales -->
            <div id="final-results-screen" class="exam-section">
                <div class="results-container">
                    <div class="trophy-icon">üèÜ</div>
                    <h2>Resumen Final</h2>
                    <div class="score-display">Puntuaci√≥n Total: <span id="total-final-score">0.00</span></div>

                    <div class="summary-box">
                        <h3>üìä Desglose por Examen</h3>
                        <div id="exams-summary" class="summary-grid"></div>
                    </div>

                    <div class="improvement-box">
                        <h3>üöÄ √Åreas de Mejora</h3>
                        <div id="improvement-areas"></div>
                    </div>

                    <button id="restart-btn" class="btn btn-primary btn-lg">Volver a Empezar</button>
                </div>
            </div>
        </main>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal">
            <div class="modal-content">
                <span id="close-settings" class="close-btn">&times;</span>
                <h2>Configuraci√≥n de Visualizaci√≥n</h2>

                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="dark-mode-toggle">
                        <span class="slider round"></span>
                    </label>
                    <span>üåô Modo Oscuro</span>
                </div>

                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="sepia-mode-toggle">
                        <span class="slider round"></span>
                    </label>
                    <span>üìñ Modo Lectura (Sepia)</span>
                </div>

                <div id="sepia-controls" class="setting-control hidden">
                    <label for="sepia-slider">Intensidad Sepia:</label>
                    <input type="range" id="sepia-slider" min="0" max="100" value="20">
                </div>
            </div>
        </div>

        <footer>
            <p>Hecho por Mario con amor ‚ù§Ô∏è</p>
        </footer>
    </div>

    <script src="script.js?v=1.3"></script>
</body>

</html>